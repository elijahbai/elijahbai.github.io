---
layout: post
title: "jekyll搭建个人博客1"
date: 2019-07-15
tag: 博客
---

## 配置环境

### 简介

[jekyll](https://jekyllrb.com/docs/)是一个简单的免费的，生成静态网页的工具，不需要数据库支持。但是可以配合第三方服务,例如Disqus。最关键的是jekyll可以免费部署在Github上，而且可以绑定自己的域名。jekyll让我们专注于文章本身，而不是html。

```
提示：【配置环境】主要是为了在本地开发调试，比如当你使用别人的主题并做出了修改，可以立即在本地看到改变后的结果，当你发表博文时也可

以先在本地预览。但【配置环境】并不是必须的，因为Github Pages与jekyll深度结合，你可以将修改后的结果直接push到

username.github.io仓库，然后访问https://username.github.io,也可以看到你刚才修改过的结果，只是这样没有先本地预览，再push到

github快捷。对于新手来说配置环境会遇到很多问题，所以如果你遇到问题而又解决不了，不妨跳过配置环境的步骤，直接将修改push到github，

然后继续修改，继续push，直到自己满意为止，等你了解到一定程度再回过头配置环境，会更容易的解决问题，因为有很多人不是被编程本身难倒，

而是配置环境时过不去，毕竟万事开头难。
```

### 安装Ruby开发环境和jekyll

jekyll是由Ruby脚本语言编写的，所以在运行jekyll之前，需要先安装Ruby运行环境。

- 下载[RubyInstaller for Windows](https://rubyinstaller.org/downloads/),下载Ruby+Devkit的版本，减少后面报错的机会

![mark](http://image.ojx666.xyz/blog/20190714/qngotMW8QEde.png?imageslim)

- 然后运行`ridk install`以添加必需的开发工具
- 打开cmd命令窗口，执行`gem install jekyll bundler`安装jekyll和bundler
- 查看是否正确安装了jekyll：`jekyll -v`

这里有一个jekyll官方提供的[Windows安装jekyll](https://jekyllrb.com/docs/installation/windows/)的过程，可供参考

### 生成本地站点并运行

- 切换到某个目录：在cmd命令行窗口中，用cd命令切换到一个目录，比如我切换到桌面（Logan是我的用户名）

![mark](http://image.ojx666.xyz/blog/20190715/M27V6YNSJlAw.jpg?imageslim)

- 使用默认模板新建项目：使用`jekyll new 项目名`命令创建一个项目，比如我创建了一个名为blog的项目，创建好后是一个文件夹，位置在桌面

![mark](http://image.ojx666.xyz/blog/20190715/htNGjzv8puH2.jpg?imageslim)

​          这是文件夹里的内容

![mark](http://image.ojx666.xyz/blog/20190715/p417osu4RGDA.jpg?imageslim)

- 生成静态站点：`cd blog`切换到blog目录下，运行`jekyll serve`生成静态站点，此时可能会报错，错误类型为`Bundler::GemNotFound`，比如我这里遇到的错误如下：

![mark](http://image.ojx666.xyz/blog/20190715/OkyNt2BDgXiI.jpg?imageslim)

根据提示，错误是缺少名为tzinfo的gem导致的（如果是缺少其他gem，解决方法是一样的，把gem名字换一下就行），使用`gem list`查看是否下载了此gem，如果查询结果里没有此gem，使用`gem install tzinfo`安装此gem

![mark](http://image.ojx666.xyz/blog/20190715/eullzH03qU3w.jpg?imageslim)

安装成功后在此执行`jekyll serve`，我这里继续报错了，错误提示和上面的相同，打开blog目录下Gemfile文件

![mark](http://image.ojx666.xyz/blog/20190715/HETolIH3r3ur.jpg?imageslim)

这里的意思是，我们创建的blog项目需要依赖名为`tzinfo`的gem，且版本>=1.2,<2.0（`~>`的意义请看[这里](https://tosbourn.com/what-is-the-gemfile/)），而我们刚刚安装的版本为2.0版本，所以将Gemfile文件里的版本修改为我们下载的版本，下图为修后的内容

![mark](http://image.ojx666.xyz/blog/20190715/FiXBMFyRxnlh.jpg?imageslim)

保存之后，再次运行`jekyll serve`，得到下面结果，说明我们已经成功生成了站点

![mark](http://image.ojx666.xyz/blog/20190715/cTcgswRMrqkY.jpg?imageslim)

我们打开blog文件夹，里面多了一个名为_site的文件夹，这里面就是jekyll帮我们生成的整个静态站点内容

![mark](http://image.ojx666.xyz/blog/20190715/pK4R8fVO7ypQ.jpg?imageslim)

- 本地运行：在浏览器输入`http://127.0.0.1:4000/`,就可以看见jekyll生成的默认站点的内容了

![mark](http://image.ojx666.xyz/blog/20190715/x07O4VsWVTlJ.jpg?imageslim)

在配置环境的过程中，很有可能遇到其他问题，尝试复制错误信息，用搜索引擎搜索，看是否已有解决方法，如果你试了很多次还是不行，请直接在我的项目的[Issues](https://github.com/sslogan666/sslogan666.github.io/issues)里提问，或者按我开头说的提示走，跳过配置环境这一步，不要被配置环境难倒。

## 使用模板

### 获取模板

在前面，我们使用jekyll默认模板创建了一个静态站点，离我们心目中一个漂亮的博客差距还很大，对于我们新手来说，最好的选择是选择一个前辈写好的博客模板，然后加上我们自己的修改，变成我们自己心目中的博客，等我们完全了解了整个运行过程，这时候如果想自己重新写一个模板，会更容易，现在要做的是站在前辈的肩膀上。如果你喜欢我的博客的样子，可以先下载我的源码，再修改成你喜欢的样子。如果你使用过git可以用下面命令clone我的源码到你本地的仓库

```bash
git clone https://github.com/sslogan666/sslogan666.github.io.git
```

还可以直接[下载](https://codeload.github.com/sslogan666/sslogan666.github.io/zip/master)源码压缩包，之后解压到一个目录里。

### 本地运行博客

然后打开cmd命令行，用cd命令切换到解压项目目录，执行`jekyll serve`，此时很有可能会再次遇到`Bundler::GemNotFound`的错误，可以按照前面解决错误的方式尝试解决，还可以执行`bundle install`命令，此命令可以将Gemfile文件中列出的所有依赖的gem全部安装，然后再次执行`jekyll serve`命令，可能还会遇到`Gem::LoadError`，根据错误提示，执行`bundle exec jekyll serve`便不再报错。运行成功之后，在浏览器输入`http://127.0.0.1:4000/`便可以看到我的网站。

### 发布博客到github

**如果你没有把环境配置成功，不要气馁**，先在自己的github上创建一个`uername.github.io`名称的仓库，将username修改为你的github的用户名，然后将刚才下载解压后的项目文件夹名称改为`uername.github.io`，然后执行下面命令，将本地代码push到github,然后打开浏览器访问`https://username.github.io`，首次访问，可能需要10分钟左右后，才能访问到，喝杯茶，耐心等待😁

```bash
$ git add --all
$ git commit -m "my first post"
$ git push origin master
```

至此一个好看的博客实现了，所有人都可以用电脑、手机访问你发布博客，但博客的内容全部都是我的，下一步就要将这个博客修改为你自己的博客，下一篇将探索性的对`她`做出更改。